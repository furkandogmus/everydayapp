<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Everyday Pro - Habit Tracker</title>
    <meta name="description" content="Track your daily habits with a beautiful, minimal interface. Build streaks and stay consistent.">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    
    <!-- CSS Modules -->
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
</head>
<body>

<div class="layout">
    <header>
        <div class="logo-section">
            <h1>Everyday Pro</h1>
            <div class="stats-bar" id="stats-bar">
                <div class="stat-item">
                    <span class="stat-value" id="total-streak">0</span>
                    <span class="stat-label" data-i18n="bestStreak">En Ä°yi Seri</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="today-done">0</span>
                    <span class="stat-label" data-i18n="today">BugÃ¼n</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="weekly-rate">0%</span>
                    <span class="stat-label" data-i18n="thisWeek">Bu Hafta</span>
                </div>
            </div>
        </div>
        <div class="controls">
            <!-- Pomodoro Timer -->
            <div class="pomodoro-section" id="pomodoro-section">
                <button class="pomodoro-btn" id="pomodoro-btn" onclick="Pomodoro.toggle()" title="Pomodoro Timer">
                    <i data-lucide="timer"></i>
                    <span class="pomodoro-time" id="pomodoro-time">25:00</span>
                </button>
                <button class="btn-icon pomodoro-reset" onclick="Pomodoro.reset()" title="Reset">
                    <i data-lucide="rotate-ccw"></i>
                </button>
                <button class="btn-icon pomodoro-skip" onclick="Pomodoro.skip()" title="Skip">
                    <i data-lucide="skip-forward"></i>
                </button>
            </div>
            
            <button class="btn-icon" id="theme-toggle-btn" onclick="Theme.toggle()" title="Toggle Theme">
                <i data-lucide="moon"></i>
            </button>
            <button class="btn-icon" id="location-btn" onclick="App.setLocation()" title="Set Location" data-i18n-title="setLocation">
                <i data-lucide="map-pin"></i>
            </button>
            <select id="lang-select" class="lang-select" onchange="i18n.setLang(this.value)">
                <option value="tr">ðŸ‡¹ðŸ‡·</option>
                <option value="en">ðŸ‡¬ðŸ‡§</option>
            </select>
            <button class="btn-icon" onclick="App.toggleSummary()" title="Weekly Summary" data-i18n-title="weeklySummary">
                <i data-lucide="bar-chart-3"></i>
            </button>
            <button class="btn-icon" onclick="App.showAddHabit()" title="Add Habit" data-i18n-title="addHabit">
                <i data-lucide="plus"></i>
            </button>
        </div>
    </header>

    <div class="wrapper">
        <div id="habit-board">
            <div class="names-col" id="names-list"></div>
            <div class="grid-col" id="grid-container"></div>
            <div class="stats-col" id="stats-list"></div>
        </div>
    </div>
</div>

<!-- Add Habit Modal -->
<div class="modal" id="modal">
    <div class="modal-content">
        <h2><i data-lucide="sparkles"></i> <span data-i18n="newHabit">Yeni AlÄ±ÅŸkanlÄ±k</span></h2>
        
        <div class="form-group">
            <label data-i18n="habitName">AlÄ±ÅŸkanlÄ±k AdÄ±</label>
            <input type="text" id="habit-input" data-i18n-placeholder="habitPlaceholder" placeholder="Ã¶rn: 90dk Derin Ã‡alÄ±ÅŸma">
        </div>
        
        <div class="form-group">
            <label data-i18n="category">Kategori</label>
            <div class="category-options" id="category-options">
                <div class="category-option selected" data-cat="health">
                    <i data-lucide="heart-pulse"></i> <span data-i18n="health">SaÄŸlÄ±k</span>
                </div>
                <div class="category-option" data-cat="work">
                    <i data-lucide="briefcase"></i> <span data-i18n="work">Ä°ÅŸ</span>
                </div>
                <div class="category-option" data-cat="personal">
                    <i data-lucide="sparkles"></i> <span data-i18n="personal">KiÅŸisel</span>
                </div>
                <div class="category-option" data-cat="learning">
                    <i data-lucide="book-open"></i> <span data-i18n="learning">Ã–ÄŸrenme</span>
                </div>
            </div>
        </div>
        
        <!-- Implementation Intention Section -->
        <div class="form-group intention-section">
            <label>
                <i data-lucide="target"></i> <span data-i18n="implementationIntention">Uygulama Niyeti</span>
            </label>
            <div class="intention-formula">
                <span data-i18n="intentionPrefix">Ben</span>
                <input type="time" id="intention-time" class="intention-input time" value="07:00">
                <span data-i18n="intentionAt">'de</span>
                <input type="text" id="intention-place" class="intention-input place" 
                       data-i18n-placeholder="intentionPlaceholder" placeholder="yer (Ã¶rn: mutfak)">
                <span data-i18n="intentionIn">'da</span>
                <span class="intention-behavior" id="intention-behavior">...</span>
                <span data-i18n="intentionSuffix">yapacaÄŸÄ±m</span>
            </div>
        </div>
        
        <!-- Habit Stacking Section -->
        <div class="form-group stack-section">
            <label>
                <i data-lucide="link"></i> <span data-i18n="habitStacking">AlÄ±ÅŸkanlÄ±k Zincirleme</span>
            </label>
            <select id="stack-after" class="stack-select">
                <option value="">-- Zincirleme yok --</option>
            </select>
            <p class="stack-hint" data-i18n="stackHint">"X yaptÄ±ktan sonra Y yapacaÄŸÄ±m" - Atomic Habits</p>
        </div>
        
        <div class="coach-tip">
            <div class="coach-tip-header">
                <i data-lucide="lightbulb"></i>
                <span data-i18n="coachTipTitle">Atomic Habits Ä°pucu</span>
            </div>
            <p id="coach-tip-text" data-i18n="coachTipText">Belirgin, Ã§ekici, kolay ve tatmin edici yap. AlÄ±ÅŸkanlÄ±ÄŸÄ±nÄ±n 2 dakikalÄ±k versiyonuyla baÅŸla.</p>
        </div>
        
        <div class="modal-actions">
            <button class="btn-ghost" onclick="App.hideAddHabit()">
                <i data-lucide="x"></i> <span data-i18n="cancel">Ä°ptal</span>
            </button>
            <button class="btn-primary" onclick="App.saveHabit()">
                <i data-lucide="check"></i> <span data-i18n="addHabit">AlÄ±ÅŸkanlÄ±k Ekle</span>
            </button>
        </div>
    </div>
</div>

<!-- Summary Panel -->
<div class="summary-panel" id="summary-panel">
    <div class="summary-header">
        <h3><i data-lucide="trending-up"></i> <span data-i18n="weeklySummary">HaftalÄ±k Ã–zet</span></h3>
        <button class="btn-icon" onclick="App.toggleSummary()">
            <i data-lucide="x"></i>
        </button>
    </div>
    
    <div class="summary-stat">
        <div class="summary-stat-label" data-i18n="completionRate">Tamamlanma OranÄ±</div>
        <div class="summary-stat-value" id="summary-rate">0%</div>
        <div class="summary-stat-sub" id="summary-detail">0 / 0 <span data-i18n="completed">tamamlandÄ±</span></div>
    </div>
    
    <div class="summary-stat">
        <div class="summary-stat-label" data-i18n="currentStreaks">Aktif Seriler</div>
        <div class="summary-stat-value" id="summary-streaks">0</div>
        <div class="summary-stat-sub" data-i18n="activeHabits">aktif alÄ±ÅŸkanlÄ±k</div>
    </div>
    
    <div class="habit-breakdown" id="habit-breakdown">
        <h4 data-i18n="habitPerformance">AlÄ±ÅŸkanlÄ±k PerformansÄ± (7 gÃ¼n)</h4>
    </div>
</div>

<div class="overlay" id="overlay" onclick="App.toggleSummary()"></div>

<!-- Toast Container -->
<div class="toast-container" id="toast-container"></div>

<!-- JavaScript Modules (Order matters!) -->
<script src="js/i18n.js"></script>
<script src="js/theme.js"></script>
<script src="js/state.js"></script>
<script src="js/prayer.js"></script>
<script src="js/utils.js"></script>
<script src="js/render.js"></script>
<script src="js/pomodoro.js"></script>
<script src="js/app.js"></script>

<!-- Initialize Lucide Icons -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        lucide.createIcons();
    });
</script>

</body>
</html>
